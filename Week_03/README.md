学习笔记

仓库地址：
https://github.com/wuyueandrew/JavaCourseCodes.git
分支：
feature/20201104-gateway
1.HttpOutbound
io.github.kimmking.gateway.outbound.httpclient.HomeworkHttpOutboundHandler
2.NettyOutbound
io.github.kimmking.gateway.outbound.netty4.HomeworkNettyOutboundHandler
3.filter
io.github.kimmking.gateway.filter.HttpRequestLogFilter

第一个作业比较简单了，老师上课都写过了。我简单用同步实现了下
第二个作业我做法是先声明一个io.github.kimmking.gateway.outbound.OutboundHandler接口，
然后声明一个抽象类AbstractOutboundHandler，HttpOutbound和NettyOutbound都继承了AbstractOutboundHandler，
然后通过spi实现策略模式，运行时指定具体是HttpClient还是Netty。
抽象类实现了接口里的handle方法并声明为final禁止重写，这样就可以在handle方法里先使用过滤器过滤请求，然后调用具体的
handle方法。
这里有个疑问，能不能复用Netty客户端的连接，这样不用每次请求进来都新开客户端，但是目前没想到把前端ChannelHandlerContext
透传给后端Handler的方法，因为复用的话NettyHttpClientOutboundHandler里的成员变量preCtx就是有状态的了，
但是preCtx是第一个请求创建好的。
过滤器我也使用了spi初始化，通过责任链模式HttpRequestFilterChain是一个链，doFilter通过递归保证所有过滤器都被使用

最后加了个日志，没有日志调试比较麻烦，但是时间实在有点赶没来得及压测一下。